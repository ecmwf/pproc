members: 5
leg: 1
global_input_keys:
  expver: "0001"
global_output_keys:
  expver: "0001"
  type: ep
  localDefinitionNumber: 5
  bitsPerValue: 8
parameters:
  t850:
    sources:
      ens:
        request:
          class: od
          stream: enfo
          levelist: 850
          levtype: pl
          type: [cf, pf]
          domain: g
          param: 130
          interpolate:
            grid: O640
            intgrid: none
            legendre-loader: shmem
            matrix-loader: file-io
      clim:
        request:
          stream: efhs
          type: [em, es]
          date: 20240506
        steps:
          0: 12
          12: 24
          24: 36
      anomaly:
        preprocessing:
          operation: 
      std_anomaly:
        preprocessing:
          operation: 
    steps:
    - interval: 12
      start_step: 0
      end_step: 24
    windows:
    - periods:
      - range:
        - 0
        - 0
      - range:
        - 12
        - 12
      thresholds:
      - out_paramid: 131022
        comparison: <
        value: -8
      - out_paramid: 131025
        comparison: '>'
        value: 8
      grib_set:
        bitsPerValue: 24
    - periods:
      - range:
        - 0
        - 24
      window_operation: mean
      include_start_step: true
      thresholds:
      - out_paramid: 131020
        comparison: <
        value: -2
        source: anomaly
      - out_paramid: 131021
        comparison: '>='
        value: 2
        source: ens
      grib_set:
        bitsPerValue: 24
    std_anomaly_windows:
    - periods:
      - range:
        - 0
        - 0
      - range:
        - 12
        - 12
      thresholds:
      - out_paramid: 133093
        comparison: '>'
        value: 1
      - out_paramid: 133096
        comparison: <
        value: -1
        limit_type: lower
      grib_set:
        localDefinitionNumber: 30
        bitsPerValue: 24
        edition: 2
        tablesVersion: 30
        typeOfGeneratingProcess: 5
        paramId: 0
        timeIncrement: 12
        # indicatorOfUnitForTimeIncrement: 1 ** Must be omitted when run with pytest **
        typeOfStatisticalProcessing: 10
        packingType: grid_ccsds
        scaleFactorOfUpperLimit: MISSING
        scaledValueOfUpperLimit: MISSING